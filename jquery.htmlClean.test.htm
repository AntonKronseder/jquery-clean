<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>$.htmlClean</title>

    <style type="text/css">
        html,body{background-color:#fcf9f3}
        .result{font-family:Monospace}
        .success{color:#0c0}
        .failure{color:#c00}
    </style>

    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="jquery.htmlClean.js"></script>

</head>
<body>

    <h2>Clean</h2>
    <script type="text/javascript">
        function encode(value) {
            return value
                .replace(/\&/g, '&amp;')
                .replace(/\</g, '&lt;')
                .replace(/\>/g, '&gt;');

        }
        function test_isEqual(actual, expected) {
            document.write("<p class='result ".concat(
                actual == expected ? "success" : "failure",
                "'>actual&nbsp;&nbsp;: '", encode(actual), "'<br />expected: '", encode(expected), "'</p>"));
        }

        test_isEqual($.htmlClean("<P>This is<em> inline </em><em>consecutive</em> </p>"), "<p>This is <em>inline</em> <em>consecutive</em></p>");
        test_isEqual($.htmlClean("<P>This is <em>an inline </em> tag<BR>test<br></p>"), "<p>This is <em>an inline</em> tag<br />test</p>");
        test_isEqual($.htmlClean("<P>This is <em> inline<b>  nested</b> </em> test</p>"), "<p>This is <em>inline <strong>nested</strong></em> test</p>");
        test_isEqual($.htmlClean("<P>This is <em>inline<b>nested</b> </em>test</p>"), "<p>This is <em>inline<strong>nested</strong></em> test</p>");
        test_isEqual($.htmlClean("<P>This is <em>inline split<b>nested </em>te</b>st</p>"), "<p>This is <em>inline split<strong>nested</strong></em> test</p>");

        test_isEqual($.htmlClean("<H1 class=\"header\"><P>Nested P Test</H1>"), "<h1>Nested P Test</h1>");
        test_isEqual($.htmlClean("<p>        Unecessary white space test          </p>"), "<p>Unecessary white space test</p>");
        test_isEqual($.htmlClean("<p><b>Replace</b> test</p>"), "<p><strong>Replace</strong> test</p>");
        test_isEqual($.htmlClean("<p>Safari style span <span class=\"Apple-style-span\" style=\"font-weight: bold;\">bold</span> test</p>"), "<p>Safari style span <strong>bold</strong> test</p>");
        test_isEqual($.htmlClean("<p>Safari style span <span class=\"Apple-style-span\" style=\"font-style: italic;\">italic</span> test</p>"), "<p>Safari style span <em>italic</em> test</p>");
        
        test_isEqual($.htmlClean("<ul>\n<li>Un-closed List Item Test 1\n<li>Un-closed List Item Test 2\n</ul>"), "<ul><li>Un-closed List Item Test 1</li><li>Un-closed List Item Test 2</li></ul>");

        test_isEqual($.htmlClean("<table>    <tr>\n <th>Un-closed Cell & row Test 1\n<td>Un-closed Cell & row Test 2\n</table>"), "<table><tr><th>Un-closed Cell & row Test 1</th><td>Un-closed Cell & row Test 2</td></tr></table>");
        test_isEqual($.htmlClean("<table>\n<tr>\n <th>  White space in cell test 1 </th><td>White space in cell test 2 </td></tr></table>"), "<table><tr><th>White space in cell test 1</th><td>White space in cell test 2</td></tr></table>");
        test_isEqual($.htmlClean("<table><tr><th>Next cells empty test</th><td>&nbsp;</td><td></td></tr></table>"), "<table><tr><th>Next cells empty test</th><td></td><td></td></tr></table>");
        
    </script>    

    <h2>Trim</h2>
    <script type="text/javascript">
        test_isEqual($.htmlClean.trim("  Hello"), "Hello");
        test_isEqual($.htmlClean.trim("  Hello   "), "Hello");

        test_isEqual($.htmlClean.trimStart("  Hello"), "Hello");
        test_isEqual($.htmlClean.trimStart("  Hello   "), "Hello   ");

        test_isEqual($.htmlClean.trimEnd("  Hello"), "  Hello");
        test_isEqual($.htmlClean.trimEnd("  Hello   "), "  Hello");

    </script>
</body>
</html>
